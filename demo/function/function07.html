<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <pre>使用递归输出以下结构。</pre>
  <pre>
  Desktop
  ├─.DS_Store
  ├─.localized
  ├─dir1
  ｜ ├─file1
  ｜ └file2
  ｜ ｜ ├─file3
  ├─dir2
  ｜ ├─file4
  ｜ └file5
  </pre>
  <script>
    var data = {
      parent: 'project',
      children: [
        {
          parent: '.DS_Store',
          children: []
        },
        {
          parent: '.localized',
          children: []
        },
        {
          parent: 'dir1',
          children: [
            {
              parent: 'file1',
              children: [{
                parent: 'file5',
                children: []
              }]
            },
            {
              parent: 'file2',
              children: []
            }
          ]
        },
        {
          parent: 'dir2',
          children: [{
            parent: 'file3',
            children: []
          }]
        }
      ]
    }
    var s = ''
    var sum = ''
    function toTree(obj) {
      if (s == '') {
        sum += s + obj.parent + '<br/>'
      }
      s = '├─'
      obj.children.forEach(el => {
        sum += s + el.parent + '<br/>'
        el.children.forEach(item => {
          sum += '｜&nbsp;&nbsp;&nbsp;' + s + item.parent + '<br/>'
          item.children.forEach(it => {
            sum += '｜&nbsp;&nbsp;&nbsp;' + '｜&nbsp;&nbsp;&nbsp;' + s + it.parent + '<br/>'
          })
        })
      });
    }
    // toTree(data)
    // document.write(sum)

    const digui = ({parent, children}) => {
      return `
      <ul>
        ├─ ${parent}
        ${children.reduce((str, item) => str + digui(item), '')}
      </ul>
      `
    }
    document.write(digui(data))
  </script>
</body>

</html>